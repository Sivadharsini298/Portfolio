<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
<title>Smart Governance Dashboard</title>
<style>
  /* Reset & basics */
  * {
    margin:0; padding:0; box-sizing: border-box;
  }
  html {
    scroll-behavior: smooth;
  }
  body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: #f9fbff;
    color: #1a1a2e;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
  }
  a {
    text-decoration: none;
    color: #0d6efd;
  }
  a:hover, button:hover {
    opacity: 0.85;
  }
  /* Navigation */
  header {
    position: fixed;
    top: 0; left: 0; right: 0;
    background: #0d6efd;
    color: white;
    font-weight: 600;
    z-index: 1000;
    box-shadow: 0 2px 8px rgb(0 0 0 / 0.15);
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 0.7rem 1rem;
    height: 48px;
  }
  .nav-logo {
    font-size: 1.2rem;
    letter-spacing: 0.05em;
  }
  nav ul {
    list-style: none;
    display: flex;
    gap: 12px;
  }
  nav ul li {
    cursor: pointer;
    font-size: 0.9rem;
  }
  nav ul li button {
    background: none;
    border: none;
    color: white;
    font-weight: 600;
    cursor: pointer;
  }
  /* Hamburger menu for mobile */
  #nav-toggle {
    display: none;
  }
  label[for="nav-toggle"] {
    display: none;
    cursor: pointer;
    font-size: 1.4rem;
  }
  @media (max-width: 400px) {
    nav ul {
      position: fixed;
      top: 48px;
      right: 0;
      background: #0d6efd;
      flex-direction: column;
      width: 180px;
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.3s ease;
    }
    nav ul li {
      padding: 0.7rem 1rem;
      border-bottom: 1px solid rgba(255,255,255,0.2);
    }
    #nav-toggle:checked + nav ul {
      max-height: 240px;
    }
    label[for="nav-toggle"] {
      display: block;
      color: white;
    }
  }
  /* Main container */
  main {
    margin-top: 48px;
    flex-grow: 1;
    max-width: 100vw;
    overflow-x: hidden;
  }
  section {
    padding: 2rem 1rem 4rem;
    max-width: 700px;
    margin: 0 auto 6rem;
    background: white;
    border-radius: 10px;
    box-shadow: 0 0 15px rgb(0 0 0 / 0.1);
    animation: fadeInUp 0.6s ease forwards;
    opacity: 0;
    transform: translateY(20px);
  }
  section.in-view {
    opacity: 1;
    transform: translateY(0);
  }
  section h2 {
    margin-bottom: 1rem;
    color: #0d6efd;
    font-size: 1.7rem;
    border-bottom: 3px solid #0d6efd;
    padding-bottom: 0.2rem;
  }
  /* Buttons - style and variants */
  button.btn {
    background: #0d6efd;
    border: none;
    color: white;
    padding: 0.5rem 1.2rem;
    border-radius: 5px;
    cursor: pointer;
    font-weight: 600;
    font-size: 0.9rem;
    transition: background-color 0.3s ease;
    margin: 0.3rem 0.4rem 0.3rem 0;
  }
  button.btn-secondary {
    background: white;
    color: #0d6efd;
    border: 2px solid #0d6efd;
  }
  button.btn-secondary:hover {
    background: #0d6efd;
    color: white;
  }
  /* Home Section */
  #home p.lead {
    font-size: 1.15rem;
    margin-bottom: 1rem;
    line-height: 1.4;
    color: #333;
  }
  #home .features-icons {
    display: flex;
    flex-wrap: wrap;
    justify-content: space-around;
  }
  #home .feature {
    width: 120px;
    text-align: center;
    margin: 1rem 0.7rem;
  }
  #home .feature svg {
    width: 42px;
    height: 42px;
    fill: #0d6efd;
    margin-bottom: 0.5rem;
  }
  /* Features Section */
  #features ul {
    list-style: disc inside;
    margin-left: 0;
    margin-bottom: 1rem;
    line-height: 1.45;
  }
  #features ul li {
    margin-bottom: 0.6rem;
  }
  /* Departments Section */
  #departments .tabs {
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
    justify-content: center;
    margin-bottom: 1rem;
  }
  #departments .tabs button {
    background: #e7f0ff;
    border: 1.5px solid #0d6efd;
    border-radius: 25px;
    padding: 0.3rem 1rem;
    font-size: 0.85rem;
    color: #0d6efd;
    font-weight: 600;
    cursor: pointer;
    transition: background-color 0.2s ease, color 0.2s ease;
    flex-shrink: 0;
  }
  #departments .tabs button.active {
    background: #0d6efd;
    color: white;
  }
  #departments .tab-content {
    background: #f3f8ff;
    padding: 1rem;
    border-radius: 10px;
  }
  #departments canvas {
    max-width: 100%;
    height: 220px !important;
  }
  #departments .map-placeholder {
    background: #ddeaff;
    border: 1.5px solid #0d6efd;
    height: 200px;
    margin: 1rem 0;
    border-radius: 10px;
    display: flex;
    justify-content: center;
    align-items: center;
    color: #0d6efd;
    font-weight: 600;
    font-size: 1.1rem;
  }
  /* Login/Register Section */
  #login-register {
    max-width: 400px;
    margin: 0 auto;
  }
  #login-register form {
    display: flex;
    flex-direction: column;
  }
  #login-register label {
    margin: 0.6rem 0 0.2rem;
    font-weight: 600;
    font-size: 0.9rem;
  }
  #login-register input,
  #login-register select {
    font-size: 1rem;
    padding: 0.5rem;
    margin-bottom: 1rem;
    border: 1.5px solid #ccc;
    border-radius: 6px;
    transition: border-color 0.3s ease;
  }
  #login-register input:focus,
  #login-register select:focus {
    outline: none;
    border-color: #0d6efd;
  }
  #login-register .toggle-link {
    margin: 1rem 0 0;
    font-size: 0.85rem;
    color: #0d6efd;
    cursor: pointer;
    text-align: center;
    font-weight: 600;
  }
  /* Contact Section */
  #contact form {
    max-width: 400px;
    margin: 0 auto;
    display: flex;
    flex-direction: column;
  }
  #contact label {
    margin: 0.5rem 0 0.2rem;
    font-weight: 600;
  }
  #contact input,
  #contact textarea,
  #contact select {
    font-size: 1rem;
    padding: 0.5rem;
    margin-bottom: 1rem;
    border-radius: 6px;
    border: 1.5px solid #ccc;
    transition: border-color 0.3s ease;
  }
  #contact input:focus,
  #contact textarea:focus,
  #contact select:focus {
    outline: none;
    border-color: #0d6efd;
  }
  #contact textarea {
    min-height: 100px;
    resize: vertical;
  }
  /* Footer */
  footer {
    text-align: center;
    padding: 1rem;
    font-size: 0.8rem;
    color: #666;
    background: #f0f0f0;
    border-top: 1px solid #ddd;
  }
  /* Animations */
  @keyframes fadeInUp {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
  /* Responsive font sizes */
  @media (max-width: 400px) {
    section {
      padding: 1.5rem 1rem 3rem;
      margin-bottom: 3rem;
    }
    #home .features-icons {
      flex-direction: column;
      align-items: center;
    }
    #home .feature {
      width: 70%;
      margin: 1rem auto;
    }
  }
</style>
</head>
<body>
<header>
  <div class="nav-logo" aria-label="Smart Governance Dashboard">Smart Gov Dashboard</div>
  <input type="checkbox" id="nav-toggle" />
  <label for="nav-toggle">&#9776;</label>
  <nav>
    <ul>
      <li><button type="button" data-target="home">Home</button></li>
      <li><button type="button" data-target="features">Features</button></li>
      <li><button type="button" data-target="departments">Departments</button></li>
      <li><button type="button" data-target="login-register">Login/Register</button></li>
      <li><button type="button" data-target="contact">Contact</button></li>
    </ul>
  </nav>
</header>
<main>
  <!-- Home -->
  <section id="home" tabindex="0" aria-labelledby="home-title" class="in-view">
    <h2 id="home-title">Welcome to Smart Governance Dashboard</h2>
    <p class="lead">
      Empowering district-level administration through digital innovation. Experience transparency, real-time insights, and data-driven governance at your fingertips.
    </p>
    <div class="features-icons" aria-label="Dashboard features">
      <div class="feature" tabindex="0">
        <svg viewBox="0 0 64 64" aria-hidden="true" focusable="false"><path d="M32 12a20 20 0 1 0 20 20A20 20 0 0 0 32 12zm0 36a16 16 0 1 1 16-16 16 16 0 0 1-16 16z"></path><path d="M32 20a3 3 0 0 0-3 3v8h-6a3 3 0 0 0 0 6h9a3 3 0 0 0 3-3v-11a3 3 0 0 0-3-3z"></path></svg>
        <div>Real-Time Analytics</div>
      </div>
      <div class="feature" tabindex="0">
        <svg viewBox="0 0 64 64" aria-hidden="true" focusable="false"><path d="M14 16h36v32H14z" fill="none" stroke="#0d6efd" stroke-width="4" stroke-linejoin="round"></path><path d="M18 20h28v24H18z" fill="#0d6efd"></path></svg>
        <div>Multi-Department Integration</div>
      </div>
      <div class="feature" tabindex="0">
        <svg viewBox="0 0 64 64" aria-hidden="true" focusable="false"><circle cx="32" cy="32" r="20" fill="none" stroke="#0d6efd" stroke-width="4"></circle><path d="M32 16v16l12 7" fill="none" stroke="#0d6efd" stroke-width="4"></path></svg>
        <div>KPI Tracking</div>
      </div>
      <div class="feature" tabindex="0">
        <svg viewBox="0 0 64 64" aria-hidden="true" focusable="false"><path d="M12 40h40v6H12zM12 28h40v6H12zM12 16h40v6H12z" fill="none" stroke="#0d6efd" stroke-width="4"></path></svg>
        <div>Grievance Redressal</div>
      </div>
      <div class="feature" tabindex="0">
        <svg viewBox="0 0 64 64" aria-hidden="true" focusable="false"><rect x="8" y="20" width="48" height="24" rx="4" ry="4" fill="none" stroke="#0d6efd" stroke-width="4"></rect><circle cx="32" cy="32" r="6" fill="#0d6efd"></circle></svg>
        <div>Data Visualization</div>
      </div>
    </div>
    <div style="text-align:center; margin-top: 1rem;">
      <button class="btn" onclick="scrollToSection('departments')">View Dashboard</button>
      <button class="btn btn-secondary" onclick="scrollToSection('contact')">Report Issue</button>
      <button class="btn btn-secondary" onclick="downloadSampleReport()">Download Report</button>
    </div>
  </section>

  <!-- Features -->
  <section id="features" tabindex="0" aria-labelledby="features-title">
    <h2 id="features-title">Key Features</h2>
    <ul>
      <li><b>Role-Based Access:</b> Admin, Department Officer, and Public Viewer roles with tailored access rights.</li>
      <li><b>Real-Time Analytics:</b> Updated dashboards provide live insights into district management.</li>
      <li><b>Multi-Department Integration:</b> Seamlessly integrates Health, Education, Revenue, Infrastructure, Police, Agriculture, and IT departments.</li>
      <li><b>KPI Tracking:</b> Monitor performance indicators across sectors with easy-to-understand metrics.</li>
      <li><b>Grievance Redressal:</b> Citizen complaint management and transparent resolution workflow.</li>
      <li><b>Data Visualization:</b> Leveraging charts, maps, and heatmaps for intuitive understanding of complex data.</li>
    </ul>
  </section>

  <!-- Departments -->
  <section id="departments" tabindex="0" aria-labelledby="departments-title">
    <h2 id="departments-title">Departments Overview</h2>
    <div class="tabs" role="tablist" aria-label="Departments Tabs">
      <button role="tab" aria-selected="true" aria-controls="health-panel" id="tab-health" class="active">Health</button>
      <button role="tab" aria-selected="false" aria-controls="education-panel" id="tab-education">Education</button>
      <button role="tab" aria-selected="false" aria-controls="revenue-panel" id="tab-revenue">Revenue</button>
      <button role="tab" aria-selected="false" aria-controls="infrastructure-panel" id="tab-infrastructure">Infrastructure</button>
      <button role="tab" aria-selected="false" aria-controls="police-panel" id="tab-police">Police/Home</button>
      <button role="tab" aria-selected="false" aria-controls="agriculture-panel" id="tab-agriculture">Agriculture</button>
      <button role="tab" aria-selected="false" aria-controls="egov-panel" id="tab-egov">e-Governance/IT</button>
    </div>
    <div id="health-panel" class="tab-content" role="tabpanel" aria-labelledby="tab-health">
      <p><strong>Hospital Bed Availability:</strong> Real-time occupancy in government hospitals.</p>
      <canvas id="healthBedsChart" aria-label="Hospital bed availability chart" role="img"></canvas>
      <p><strong>Disease Outbreak Monitoring:</strong> Active cases and containment zones.</p>
      <canvas id="diseaseOutbreakChart" aria-label="Disease outbreak monitoring chart" role="img"></canvas>
      <p><strong>Vaccination Progress:</strong></p>
      <canvas id="vaccinationProgressChart" aria-label="Vaccination progress chart" role="img"></canvas>
      <div class="map-placeholder" aria-label="District Map showing Health data">District Health Map</div>
    </div>

    <div id="education-panel" class="tab-content" role="tabpanel" aria-labelledby="tab-education" hidden>
      <p><strong>Teacher Attendance:</strong> Daily records from government schools.</p>
      <canvas id="teacherAttendanceChart" aria-label="Teacher attendance chart" role="img"></canvas>
      <p><strong>Student Enrollment Stats:</strong></p>
      <canvas id="studentEnrollmentChart" aria-label="Student enrollment chart" role="img"></canvas>
      <p><strong>Midday Meal Distribution:</strong> Food delivery and consumption tracking.</p>
      <canvas id="middayMealChart" aria-label="Midday meal distribution chart" role="img"></canvas>
    </div>

    <div id="revenue-panel" class="tab-content" role="tabpanel" aria-labelledby="tab-revenue" hidden>
      <p><strong>Tax Collection Summary:</strong> Revenue from land, water, and property taxes.</p>
      <canvas id="taxCollectionChart" aria-label="Tax collection summary chart" role="img"></canvas>
      <p><strong>Grievance Redressal:</strong> Petitions and resolution timelines.</p>
      <canvas id="grievanceChart" aria-label="Grievance redressal chart" role="img"></canvas>
    </div>

    <div id="infrastructure-panel" class="tab-content" role="tabpanel" aria-labelledby="tab-infrastructure" hidden>
      <p><strong>Road Project Progress:</strong> Live status of roads and bridges.</p>
      <canvas id="roadProjectChart" aria-label="Road project progress chart" role="img"></canvas>
      <p><strong>Smart City Components Status:</strong></p>
      <canvas id="smartCityChart" aria-label="Smart city components chart" role="img"></canvas>
    </div>

    <div id="police-panel" class="tab-content" role="tabpanel" aria-labelledby="tab-police" hidden>
      <p><strong>FIR Registration Status:</strong></p>
      <canvas id="firStatusChart" aria-label="FIR registration status chart" role="img"></canvas>
      <p><strong>Crime Mapping:</strong> GIS-based heatmaps of incidents.</p>
      <div class="map-placeholder" aria-label="Crime Heatmap">Crime Heatmap</div>
    </div>

    <div id="agriculture-panel" class="tab-content" role="tabpanel" aria-labelledby="tab-agriculture" hidden>
      <p><strong>Crop Survey & Yield Estimates:</strong></p>
      <canvas id="cropYieldChart" aria-label="Crop yield estimates chart" role="img"></canvas>
      <p><strong>Farmer Subsidy Disbursement:</strong></p>
      <canvas id="farmerSubsidyChart" aria-label="Farmer subsidy disbursement chart" role="img"></canvas>
    </div>

    <div id="egov-panel" class="tab-content" role="tabpanel" aria-labelledby="tab-egov" hidden>
      <p><strong>Citizen Service Portal Usage:</strong> Online application volumes and processing times.</p>
      <canvas id="portalUsageChart" aria-label="Citizen service portal usage chart" role="img"></canvas>
      <p><strong>System Health & Downtime Logs:</strong></p>
      <canvas id="systemHealthChart" aria-label="System health and downtime chart" role="img"></canvas>
    </div>
  </section>

  <!-- Login/Register -->
  <section id="login-register" tabindex="0" aria-labelledby="login-register-title">
    <h2 id="login-register-title">Login / Register</h2>
    <div id="login-form">
      <form aria-label="Login form" id="form-login" novalidate>
        <label for="login-role">Select Role:</label>
        <select id="login-role" name="role" required>
          <option value="" disabled selected>Select your role</option>
          <option value="admin">Admin</option>
          <option value="officer">Department Officer</option>
          <option value="public">Public Viewer</option>
        </select>
        <label for="login-email">Email:</label>
        <input type="email" id="login-email" name="email" required placeholder="you@example.com"/>
        <label for="login-password">Password:</label>
        <input type="password" id="login-password" name="password" required minlength="6" />
        <button type="submit" class="btn">Login</button>
      </form>
      <div class="toggle-link" id="show-register">Don't have an account? Register here</div>
    </div>
    <div id="register-form" hidden>
      <form aria-label="Registration form" id="form-register" novalidate>
        <label for="register-role">Select Role:</label>
        <select id="register-role" name="role" required>
          <option value="" disabled selected>Select your role</option>
          <option value="admin">Admin</option>
          <option value="officer">Department Officer</option>
          <option value="public">Public Viewer</option>
        </select>
        <label for="register-name">Full Name:</label>
        <input type="text" id="register-name" name="name" required minlength="2"/>
        <label for="register-email">Email:</label>
        <input type="email" id="register-email" name="email" required placeholder="you@example.com"/>
        <label for="register-password">Password:</label>
        <input type="password" id="register-password" name="password" required minlength="6"/>
        <label for="register-password-confirm">Confirm Password:</label>
        <input type="password" id="register-password-confirm" name="passwordConfirm" required minlength="6"/>
        <button type="submit" class="btn">Register</button>
      </form>
      <div class="toggle-link" id="show-login">Already have an account? Login here</div>
    </div>
  </section>

  <!-- Contact -->
  <section id="contact" tabindex="0" aria-labelledby="contact-title">
    <h2 id="contact-title">Contact Us</h2>
    <form aria-label="Feedback and Complaint form" id="contact-form" novalidate>
      <label for="contact-name">Name:</label>
      <input type="text" id="contact-name" name="name" required minlength="2" placeholder="Your full name" />
      <label for="contact-email">Email:</label>
      <input type="email" id="contact-email" name="email" required placeholder="you@example.com" />
      <label for="contact-type">Issue Type:</label>
      <select id="contact-type" name="type" required>
        <option value="" disabled selected>Select issue type</option>
        <option value="feedback">Feedback</option>
        <option value="complaint">Complaint</option>
        <option value="query">Query</option>
      </select>
      <label for="contact-message">Message:</label>
      <textarea id="contact-message" name="message" required placeholder="Write your message here..."></textarea>
      <button type="submit" class="btn">Send Message</button>
    </form>
  </section>
</main>

<footer>
  &copy; 2024 Smart Governance Dashboard | Powered by Digital District Solutions
</footer>

<!-- Chart.js CDN -->
<script src="https://cdn.jsdelivr.net/npm/chart.js@4.3.0/dist/chart.umd.min.js"></script>

<script>
  // Navigation smooth scroll and active state
  document.querySelectorAll('header nav ul li button').forEach(btn =>
    btn.addEventListener('click', e => {
      const targetId = btn.dataset.target;
      if(targetId) {
        document.getElementById(targetId).scrollIntoView({ behavior: 'smooth' });
        // Close mobile menu if open
        document.getElementById('nav-toggle').checked = false;
      }
    })
  );

  // Intersection observer for fade-in sections
  const observer = new IntersectionObserver(entries => {
    entries.forEach(entry => {
      if(entry.isIntersecting){
        entry.target.classList.add('in-view');
      }
    });
  }, {threshold: 0.15});
  document.querySelectorAll('section').forEach(section => observer.observe(section));

  // Departments tabs functionality with ARIA roles
  const tabs = document.querySelectorAll('#departments .tabs button');
  const panels = document.querySelectorAll('#departments .tab-content');
  tabs.forEach((tab, i) => {
    tab.addEventListener('click', () => {
      tabs.forEach(t => {
        t.classList.remove('active');
        t.setAttribute('aria-selected', 'false');
      });
      panels.forEach(p => p.hidden = true);
      tab.classList.add('active');
      tab.setAttribute('aria-selected', 'true');
      panels[i].hidden = false;
      panels[i].focus();
    });
  });

  // Sample dataset helpers
  function randomInt(min, max) {
    return Math.floor(Math.random()*(max-min+1))+min;
  }

  // Chart instances
  let charts = {};

  // Initialize charts with sample data
  function initCharts() {
    // Health Department
    const healthBedsCtx = document.getElementById('healthBedsChart').getContext('2d');
    charts.healthBedsChart = new Chart(healthBedsCtx, {
      type: 'doughnut',
      data: {
        labels: ['Occupied Beds', 'Available Beds'],
        datasets: [{
          data: [140, 60],
          backgroundColor: ['#0d6efd', '#a3c8ff']
        }]
      },
      options: {
        responsive:true,
        plugins: {
          title: { display: true, text: 'Hospital Bed Availability' },
          legend: { position:'bottom' }
        }
      }
    });

    const diseaseCtx = document.getElementById('diseaseOutbreakChart').getContext('2d');
    charts.diseaseOutbreakChart = new Chart(diseaseCtx, {
      type: 'bar',
      data: {
        labels: ['COVID-19', 'Dengue', 'Malaria', 'Chikungunya'],
        datasets: [{
          label: 'Active Cases',
          data: [120, 75, 40, 15],
          backgroundColor: '#0d6efd'
        }]
      },
      options: {
        responsive:true,
        scales: { y:{ beginAtZero:true } },
        plugins: { title:{display:true, text: 'Disease Outbreak Monitoring'}, legend:{display:false} }
      }
    });

    const vaccinationCtx = document.getElementById('vaccinationProgressChart').getContext('2d');
    charts.vaccinationProgressChart = new Chart(vaccinationCtx, {
      type: 'line',
      data: {
        labels: ['0-18', '19-45', '46-60', '60+'],
        datasets: [{
          label: 'Vaccination Dose 1',
          data: [5000, 12000, 8000, 4000],
          borderColor: '#0d6efd',
          fill: false,
          tension: 0.2
        },{
          label: 'Vaccination Dose 2',
          data: [3000, 10000, 6000, 3500],
          borderColor: '#0667d4',
          fill: false,
          tension: 0.2
        }]
      },
      options: {
        responsive:true,
        plugins: { title:{display:true, text:'Vaccination Progress by Age Group'}, legend:{position:'bottom'} }
      }
    });

    // Education Department
    const teacherAttendanceCtx = document.getElementById('teacherAttendanceChart').getContext('2d');
    charts.teacherAttendanceChart = new Chart(teacherAttendanceCtx, {
      type: 'bar',
      data: {
        labels: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri'],
        datasets: [{
          label: 'Attendance (%)',
          data: [92, 94, 90, 95, 93],
          backgroundColor: '#0d6efd'
        }]
      },
      options: {
        responsive:true,
        scales: { y: { beginAtZero:true, max: 100 } },
        plugins: { title:{display:true, text:'Teacher Attendance (Last Week)'} }
      }
    });

    const studentEnrollmentCtx = document.getElementById('studentEnrollmentChart').getContext('2d');
    charts.studentEnrollmentChart = new Chart(studentEnrollmentCtx, {
      type: 'pie',
      data: {
        labels: ['Class 1-5', 'Class 6-8', 'Class 9-12'],
        datasets: [{
          label: 'Enrollment by Class',
          data: [850, 540, 420],
          backgroundColor: ['#0d6efd', '#4a90e2', '#a3c8ff']
        }]
      },
      options: {
        responsive:true,
        plugins: { title:{display:true, text:'Student Enrollment Stats'}, legend:{position:'bottom'} }
      }
    });

    const middayMealCtx = document.getElementById('middayMealChart').getContext('2d');
    charts.middayMealChart = new Chart(middayMealCtx, {
      type: 'line',
      data: {
        labels: ['Week 1', 'Week 2', 'Week 3', 'Week 4'],
        datasets: [{
          label: 'Meals Distributed',
          data: [12000, 12500, 13000, 13200],
          borderColor: '#0d6efd',
          fill: false,
          tension: 0.3
        }]
      },
      options: {
        responsive:true,
        plugins: { title:{display:true, text:'Midday Meal Distribution'} }
      }
    });

    // Revenue Department
    const taxCollectionCtx = document.getElementById('taxCollectionChart').getContext('2d');
    charts.taxCollectionChart = new Chart(taxCollectionCtx, {
      type: 'bar',
      data: {
        labels: ['Land Tax', 'Water Tax', 'Property Tax'],
        datasets: [{
          label: 'Revenue Collected (Lakh INR)',
          data: [120, 75, 150],
          backgroundColor: '#0d6efd'
        }]
      },
      options: {
        responsive:true,
        plugins: { title:{display:true, text:'Tax Collection Summary'} },
        scales: { y: { beginAtZero:true } }
      }
    });

    const grievanceCtx = document.getElementById('grievanceChart').getContext('2d');
    charts.grievanceChart = new Chart(grievanceCtx, {
      type: 'doughnut',
      data: {
        labels: ['Resolved', 'Pending'],
        datasets: [{
          data: [280, 65],
          backgroundColor: ['#0d6efd', '#a3c8ff']
        }]
      },
      options: {
        responsive:true,
        plugins: { title:{display:true, text:'Grievance Redressal Status'}, legend:{position:'bottom'} }
      }
    });

    // Infrastructure Department
    const roadProjectCtx = document.getElementById('roadProjectChart').getContext('2d');
    charts.roadProjectChart = new Chart(roadProjectCtx, {
      type: 'bar',
      data: {
        labels: ['Roads', 'Bridges'],
        datasets: [{
          label: 'Completion %',
          data: [85, 65],
          backgroundColor: '#0d6efd'
        }]
      },
      options: {
        responsive:true,
        scales: { y: { beginAtZero:true, max: 100 } },
        plugins: { title:{display:true, text:'Road Project Progress'} }
      }
    });

    const smartCityCtx = document.getElementById('smartCityChart').getContext('2d');
    charts.smartCityChart = new Chart(smartCityCtx, {
      type: 'radar',
      data: {
        labels: ['Smart Lighting', 'Wi-Fi Zones', 'Surveillance', 'Smart Parking', 'Green Spaces'],
        datasets: [{
          label: 'Completion Status (%)',
          data: [80, 70, 90, 40, 50],
          fill: true,
          backgroundColor: 'rgba(13,110,253,0.3)',
          borderColor: '#0d6efd',
          pointBackgroundColor: '#0d6efd'
        }]
      },
      options: {
        responsive:true,
        scales: {
          r: { min: 0, max: 100, ticks: { stepSize: 20 } }
        },
        plugins: { title: { display: true, text: 'Smart City Components Status'} }
      }
    });

    // Police / Home Department
    const firStatusCtx = document.getElementById('firStatusChart').getContext('2d');
    charts.firStatusChart = new Chart(firStatusCtx, {
      type: 'pie',
      data: {
        labels: ['Closed Cases', 'Pending Cases'],
        datasets: [{
          data: [350, 98],
          backgroundColor: ['#0d6efd', '#a3c8ff']
        }]
      },
      options: {
        responsive:true,
        plugins: { title: { display:true, text: 'FIR Registration Status'}, legend:{position:'bottom'} }
      }
    });

    // Agriculture Department
    const cropYieldCtx = document.getElementById('cropYieldChart').getContext('2d');
    charts.cropYieldChart = new Chart(cropYieldCtx, {
      type: 'bar',
      data: {
        labels: ['Wheat', 'Rice', 'Maize', 'Sugarcane'],
        datasets: [{
          label: 'Yield (Quintals)',
          data: [3200, 2800, 1500, 1200],
          backgroundColor: '#0d6efd'
        }]
      },
      options: {
        responsive:true,
        plugins: { title: { display:true, text:'Crop Survey & Yield Estimates'} },
        scales: { y: { beginAtZero:true } }
      }
    });

    const farmerSubsidyCtx = document.getElementById('farmerSubsidyChart').getContext('2d');
    charts.farmerSubsidyChart = new Chart(farmerSubsidyCtx, {
      type: 'line',
      data: {
        labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May'],
        datasets: [{
          label: 'Subsidies Disbursed (in Crores)',
          data: [12, 18, 25, 30, 35],
          borderColor: '#0d6efd',
          fill: false,
          tension: 0.3
        }]
      },
      options: {
        responsive:true,
        plugins: { title: { display:true, text:'Farmer Subsidy Disbursement'} }
      }
    });

    // e-Governance / IT Cell
    const portalUsageCtx = document.getElementById('portalUsageChart').getContext('2d');
    charts.portalUsageChart = new Chart(portalUsageCtx, {
      type: 'bar',
      data: {
        labels: ['Applications', 'Processed', 'Pending'],
        datasets: [{
          label: 'Count',
          data: [1500, 1200, 300],
          backgroundColor: '#0d6efd'
        }]
      },
      options: {
        responsive:true,
        plugins: { title: { display:true, text:'Citizen Service Portal Usage'} },
        scales: { y: { beginAtZero:true } }
      }
    });

    const systemHealthCtx = document.getElementById('systemHealthChart').getContext('2d');
    charts.systemHealthChart = new Chart(systemHealthCtx, {
      type: 'line',
      data: {
        labels: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],
        datasets: [{
          label: 'Server Uptime %',
          data: [99, 100, 98, 99, 100, 100, 99],
          borderColor: '#0d6efd',
          fill: false,
          tension: 0.3
        }]
      },
      options: {
        responsive:true,
        plugins: { title: { display:true, text:'System Health & Downtime Logs'} },
        scales: { y: { beginAtZero:true, max: 100 } }
      }
    });
  }

  // Download report dummy function
  function downloadSampleReport(){
    const sampleReport = 
`Smart Governance Dashboard Sample Report
--------------------------------------
District Insights Summary

Health Department:
- Hospital Beds Occupied: 140/200
- Active COVID Cases: 120
- Vaccination Coverage Dose 1: 85%

Education Department:
- Teacher Attendance Last Week: 92%-95%
- Student Enrollment: 1810 total

Revenue Department:
- Tax Revenue Collected (Lakh INR): 345
- Grievance Resolutions: 280/345

Infrastructure Department:
- Road Projects 85% Complete
- Smart City components implementation ongoing

Police Department:
- FIR Cases Closed: 350
- Crime Rate Shows Decline

Agriculture Department:
- Crop Yield consistent with previous year
- Farmer Subsidy Disbursed: 120 Crores

e-Governance / IT:
- Portal usage growing steadily
- System uptime > 98%


For details visit: Smart Governance Dashboard Website
`;
    const blob = new Blob([sampleReport], { type: "text/plain" });
    const url = URL.createObjectURL(blob);
    const anchor = document.createElement('a');
    anchor.href = url;
    anchor.download = 'smart_governance_dashboard_report.txt';
    document.body.appendChild(anchor);
    anchor.click();
    document.body.removeChild(anchor);
    URL.revokeObjectURL(url);
  }

  // Login/Register toggle logic & validation
  document.getElementById('show-register').addEventListener('click', () => {
    document.getElementById('login-form').hidden = true;
    document.getElementById('register-form').hidden = false;
  });
  document.getElementById('show-login').addEventListener('click', () => {
    document.getElementById('register-form').hidden = true;
    document.getElementById('login-form').hidden = false;
  });

  // Simple form validation & submit for login
  document.getElementById('form-login').addEventListener('submit', e => {
    e.preventDefault();
    const role = e.target.role.value;
    const email = e.target.email.value;
    const password = e.target.password.value;
    if(!role) return alert('Please select a role.');
    if(!email || !password) return alert('Please fill all fields.');
    alert(`Login successful for role: ${role}\nEmail: ${email}`);
    e.target.reset();
  });

  // Registration form validation and passwords match check
  document.getElementById('form-register').addEventListener('submit', e => {
    e.preventDefault();
    const form = e.target;
    if(!form.role.value) return alert('Please select a role.');
    if(form.password.value !== form.passwordConfirm.value) {
      alert('Passwords do not match.');
      return;
    }
    alert(`Registered successfully as ${form.role.value}`);
    form.reset();
    document.getElementById('register-form').hidden = true;
    document.getElementById('login-form').hidden = false;
  });

  // Contact form submission
  document.getElementById('contact-form').addEventListener('submit', e => {
    e.preventDefault();
    const form = e.target;
    if(!form.name.value || !form.email.value || !form.type.value || !form.message.value){
      alert('Please fill in all fields.');
      return;
    }
    alert('Thank you for your message! We will get back to you soon.');
    form.reset();
  });

  // Initialize charts after DOM load
  window.addEventListener('load', () => {
    initCharts();
  });
</script>
</body>
</html>

[]